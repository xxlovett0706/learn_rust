# 字符与字符串

## Rust 中字符和字符串的特点

### 字符

1. Unicode 标量值，其值对应于 Rust 中 u32 类型
2. 占 4 个字节
3. 可方便地转换为 utf8 编码字节序列

```rust
fn main () {
  let tao = '道';
  let tao_u32 = tao as u32;
  assert_eq!(tao_u32, 36947);
  println!("U+{:x}", tao_u32);
  println!("{}", tao.escape_unicode());
  assert_eq!(char::from(65), 'A');
  assert_eq!(std::char::from_u32(0x9053), Some('道'));
  assert_eq!(std::char::from_u32(36947), Some('道'));
  // 该数字并不是一个有效的 Unicode 标量值
  assert_eq!(std::char::from_u32(1290101010), None);
}
```

### 字符串

1. UTF-8 字节序列，`Vec<u8>`
2. str 和 String 两大常用字符串类型
3. 其他字符串分类
   - Ctr / CString
   - OsStr / OsString
   - Path / PathBuf

```rust
use std::str;

fn main () {
  // 将 UTF-8 序列转为字符串
  let tao = str::from_utf8(&[0xE9u8, 0x81u8, 0x93u8]).unwrap();
  assert_eq!(tao, "道");
  // 将 16 进制 Unicode 码位转为字符串
  assert_eq!(String::from("\u{9053}"), "道");
  let unicode_x = 0x9053;
  let utf_x_hex = 0xe98193;
  let utf_x_bin = 0b01111001_10000001_10010011;
  println!("unicode_x: {:b}", unicode_x);
  println!("utf_x_hex: {:b}", utf_x_hex);
  println!("utf_x_bin: 0x{:x}", utf_x_bin);
}
```
